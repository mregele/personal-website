---
import BaseLayout from "./BaseLayout.astro";
import Header from "../components/Header.astro";
import Footer from "../components/Footer.astro";

interface Props {
  title: string;
  description: string;
  pubDate: string;
  image?: string;
  tags?: string[];
}

const { title, description, pubDate, image, tags } = Astro.props;
const formattedDate = new Date(pubDate).toLocaleDateString("en-US", {
  year: "numeric",
  month: "long",
  day: "numeric",
});
---

<BaseLayout title={`${title} | Matthew D. Regele`} description={description} ogImage={image}>
  <Header />
  <main class="max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-12">
    <article>
      <header class="mb-8">
        <a href="/blog" class="text-sm text-navy-600 hover:text-navy-800 transition-colors">&larr; Back to blog</a>
        <h1 class="text-3xl sm:text-4xl font-bold text-navy-900 mt-4 mb-3">{title}</h1>
        <div class="flex flex-wrap items-center gap-3 text-sm text-slate-500">
          <time datetime={pubDate}>{formattedDate}</time>
          {tags && tags.length > 0 && (
            <div class="flex flex-wrap gap-2">
              {tags.map((tag) => (
                <span class="bg-navy-100 text-navy-700 px-2 py-0.5 rounded text-xs">{tag}</span>
              ))}
            </div>
          )}
        </div>
      </header>
      <div class="prose prose-slate prose-headings:font-serif prose-headings:text-navy-900 prose-a:text-navy-600 hover:prose-a:text-navy-800 max-w-none">
        <slot />
      </div>
    </article>
  </main>
  <Footer />
</BaseLayout>
